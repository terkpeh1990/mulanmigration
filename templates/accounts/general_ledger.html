{% extends "base.html" %}
{% load crispy_forms_tags %}
{% block content%}
 <div class="row">
    <div class="col-md-12 col-sm-12">
    <div class="content">
        <div class="container-fluid">
            <div class="card card-dark card-outline p-4 m-4">
                <div class="card-header mb-4">
                    <h5>General Ledger</h5>
                    <div class="ml-1 mr-1 ">
                        <form action="" method="Get" novalidate>
                            <div class="form-row ">
                                <div class="form-group col-12 col-sm-12 col-md-4">
                                    {{ myFilter.form.start_date|as_crispy_field }}
                                </div>
                                <div class="form-group col-12 col-sm-12 col-md-4">
                                    {{ myFilter.form.end_date|as_crispy_field }}
                                </div>
                                <div class="form-group col-12 col-sm-12 col-md-4">
                                    {{ myFilter.form.sub_code|as_crispy_field }}
                                </div>

                            </div>
                            <div class="mb-2">
                                <button class="btn btn-dark">
                                    <span class="">Filter</span>
                                    <i class="fas fa-search pl-3"></i>
                                </button>
                            </div>
                        </form>
                    </div>

                </div>

                <!--<form id="friend-form" role="form" method="POST" enctype="multipart/form-data" >-->
                <!--    {% csrf_token %}-->
                <!--    <div class="row">-->
                <!--        <div class="form-group  col-12 col-md-3">-->
                <!--            {{ form.transaction_date|as_crispy_field }}-->
                <!--        </div>-->

                <!--        <div class="form-group mb-4 col-12 col-md-9">-->
                <!--            {{ form.description|as_crispy_field }}-->
                <!--        </div>-->

                <!--    </div>-->
                <!--    <div class="row mb-3" >-->
                <!--        <div class="col-12 col-md-6 "style="border:solid #777271 2px;">-->

                <!--            <div class="row">-->
                <!--                <div class="col-12 col-md-12" style=" border-bottom : solid #777271 2px; text-align: center; margin-bottom: 20px;">-->
                <!--                    <h5 class='ml-2'>Debit Account</h5>-->
                <!--                </div>-->


                <!--            </div>-->
                <!--            <div class="row">-->

                <!--                <div class="form-group  col-12 col-md-9">-->
                <!--                    <label for="">Sub Code </label>-->
                <!--                    <input type="text" name='debitcode' value="{{accounts.sub_description}}" list="productlist" Placeholder="Search Code.." class="form-control" required >-->
                <!--                    <datalist id="productlist">-->
                <!--                        {% for code in accounts %}-->
                <!--                               <option value="{{code.sub_code}}-----{{code.sub_description}}" >-->
                <!--                        {% endfor %}-->
                <!--                    </datalist>-->
                <!--                </div>-->
                <!--                <div class=" mb-4 form-groupcol-12 col-md-3">-->

                <!--                    {{ form.debt_amount|as_crispy_field }}-->
                <!--                </div>-->
                <!--            </div>-->



                <!--        </div>-->
                <!--        <div class="col-12 col-md-6" style="border:solid #777271 2px; border-left: none;">-->
                <!--            <div class="row">-->
                <!--                <div class="col-12 col-md-12 " style=" border-bottom : solid #777271 2px; text-align: center; margin-bottom: 20px;">-->
                <!--                    <h5 class='ml-2' >Credit Account</h5>-->
                <!--                </div>-->


                <!--            </div>-->
                <!--            <div class="row">-->
                <!--                <div class="form-group  col-12 col-md-9">-->
                <!--                    <label for="">Sub Code</label>-->
                <!--                    <input type="text" name='creditcode' value="{{accounts.description}}" list="productlist" Placeholder="Search Code.." class="form-control" required >-->
                <!--                    <datalist id="productlist">-->
                <!--                        {% for code in accounts %}-->
                <!--                               <option value="{{code.sub_code}}-----{{code.sub_description}}" >-->
                <!--                        {% endfor %}-->
                <!--                    </datalist>-->
                <!--                </div>-->
                <!--                <div class="form-group mb-4 col-12 col-md-3">-->

                <!--                    {{ form.credit_amount|as_crispy_field }}-->
                <!--                </div>-->
                <!--            </div>-->






                <!--        </div>-->


                <!--    </div>-->
                <!--    <div class="make-request ml-2 ">-->
                <!--        <button class="btn btn-dark">-->
                <!--            <span class="pl-2">Add</span>-->
                <!--            <i class="fas fa-plus pl-2"></i>-->
                <!--        </button>-->

                <!--    </div>-->
                <!--</form>-->
                <br>
                <h5>Transactions </h5>
                <div id="example1_wrapper" class="dataTables_wrapper dt-bootstrap4">
                    <div class="row">
                        <div class="col-12 col-sm-12 col-md-12">

                            <table id="example2" class="table table-striped  table-sm" role="grid"
                                aria-describedby="example2_info">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Date</th>
                                        <th>Sub Code</th>
                                        <th>Description</th>
                                        <th>DR (GH&#8373)</th>
                                        <th>CR (GH&#8373)</th>
                                        <th>Created By</th>


                                    </tr>
                                </thead>
                                <tbody>
                                    {% for item in general_ledger %}
                                    <tr>
                                        <td>{{item.id}}</td>
                                        <td>{{item.transaction_date}}</td>
                                        <td>{{item.sub_code.sub_code }} -- {{item.sub_code.sub_description}} </td>
                                        <td>{{item.description}}</td>

                                        <td>
                                            {% if item.debit > 0 %}
                                                {{item.debit}}
                                            {% else %}

                                            {% endif %}

                                        </td>
                                        <td>
                                            {% if item.cedit > 0 %}
                                                {{item.cedit}}
                                            {% else %}

                                            {% endif %}

                                        </td>
                                        <td>{{item.created_by}} -- {{item.created_by.first_name}}</td>


                                    </tr>
                                    {% endfor %}


                                </tbody>

                            </table>
                        </div>

                    </div>
                </div>



            </div>

        </div>
    </div>
    </div>




 </div>

{% endblock %}